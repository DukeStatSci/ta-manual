<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.548">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Duke Statistical Science TA Manual - 9&nbsp; Head TAs</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./evaluation-recognition.html" rel="next">
<link href="./training.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./head-ta.html"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Head TAs</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Duke Statistical Science TA Manual</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/DukeStatSci/ta-manual" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./useful-links.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Useful links</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./covid19.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">COVID-19</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./responsibilities.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Responsibilties</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./best-practices.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Best practices</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./policies.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Policies</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Resources</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./training.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Training</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./head-ta.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Head TAs</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./evaluation-recognition.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Evaluation and recognition</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#which-classes-should-have-head-tas" id="toc-which-classes-should-have-head-tas" class="nav-link active" data-scroll-target="#which-classes-should-have-head-tas"><span class="header-section-number">9.1</span> Which classes should have Head TAs?</a></li>
  <li><a href="#training" id="toc-training" class="nav-link" data-scroll-target="#training"><span class="header-section-number">9.2</span> Training</a></li>
  <li><a href="#responsibilities" id="toc-responsibilities" class="nav-link" data-scroll-target="#responsibilities"><span class="header-section-number">9.3</span> Responsibilities</a>
  <ul class="collapse">
  <li><a href="#administrative-tasks" id="toc-administrative-tasks" class="nav-link" data-scroll-target="#administrative-tasks"><span class="header-section-number">9.3.1</span> Administrative tasks</a></li>
  <li><a href="#pedagogical-tasks" id="toc-pedagogical-tasks" class="nav-link" data-scroll-target="#pedagogical-tasks"><span class="header-section-number">9.3.2</span> Pedagogical tasks</a></li>
  </ul></li>
  <li><a href="#role-of-the-instructor" id="toc-role-of-the-instructor" class="nav-link" data-scroll-target="#role-of-the-instructor"><span class="header-section-number">9.4</span> Role of the instructor</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/DukeStatSci/ta-manual/edit/main/head-ta.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/DukeStatSci/ta-manual/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Head TAs</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="which-classes-should-have-head-tas" class="level2" data-number="9.1">
<h2 data-number="9.1" class="anchored" data-anchor-id="which-classes-should-have-head-tas"><span class="header-section-number">9.1</span> Which classes should have Head TAs?</h2>
<p>Classes that meet either of the criteria below are strongly encouraged to have a Head TA. Instructors who choose not to have a TA or need help identifying someone for this role, should contact the DUS.</p>
<ul>
<li><p>Each of our 100-level courses (except for Focus courses)</p></li>
<li><p>Any class that has 5 or more TAs, including the Head TA</p></li>
</ul>
<p>Classes that don’t meet either of these criteria can still have a Head TA. In these cases we recommend instructors assign a subset of the tasks outlined below, being cognizant of the total number of hours allocated to the TA.</p>
</section>
<section id="training" class="level2" data-number="9.2">
<h2 data-number="9.2" class="anchored" data-anchor-id="training"><span class="header-section-number">9.2</span> Training</h2>
<p>All head TAs are expected to complete the following training items each semester they are serving in this role:</p>
<ul>
<li><p>Review this chapter!</p></li>
<li><p>Attend a Head TA training. The training will during the first week of classes.</p></li>
<li><p>Attend the Head TA check-in during weeks 3 and 6 with your instructor. The check-in will include</p>
<ul>
<li><p>Training on giving quality feedback</p></li>
<li><p>Training on reviewing feedback from others TAs efficiently and effectively</p></li>
<li><p>Sharing experiences with course logistics, set up, and Gradescope.</p></li>
<li><p>Check in on workload</p></li>
<li><p>General Q&amp;A</p></li>
</ul></li>
<li><p>Provide feedback through an end-of-semester reflection.</p></li>
</ul>
</section>
<section id="responsibilities" class="level2" data-number="9.3">
<h2 data-number="9.3" class="anchored" data-anchor-id="responsibilities"><span class="header-section-number">9.3</span> Responsibilities</h2>
<section id="administrative-tasks" class="level3" data-number="9.3.1">
<h3 data-number="9.3.1" class="anchored" data-anchor-id="administrative-tasks"><span class="header-section-number">9.3.1</span> Administrative tasks</h3>
<p>You may be asked to do some or all of the administrative tasks throughout the semester. You can go through this list with the instructor to determine the tasks that will be part of your Head TA responsibilities.</p>
<section id="office-hours" class="level4" data-number="9.3.1.1">
<h4 data-number="9.3.1.1" class="anchored" data-anchor-id="office-hours"><span class="header-section-number">9.3.1.1</span> Office hours</h4>
<ul>
<li><p>At the beginning of the semester, ensure each TA has scheduled their allotted number of office hours (at least 2 hours weekly) and has the necessary room reserved and/or Zoom links set up.</p></li>
<li><p>Ensure office hours are well distributed throughout the week as much as is feasible to meet the needs of the students.</p></li>
</ul>
</section>
<section id="total-ta-hours" class="level4" data-number="9.3.1.2">
<h4 data-number="9.3.1.2" class="anchored" data-anchor-id="total-ta-hours"><span class="header-section-number">9.3.1.2</span> Total TA hours</h4>
<ul>
<li><p>At the beginning of the semester, obtain the number of expected hours for each TA from the instructor and when requested, compare to assigned tasks.</p></li>
<li><p>Check in with other TAs about the number of hours they’re putting in weekly; adjust grading assignments, as needed, to help keep their hours consistent and within their limits. If the workload cannot be allocated fairly and still keep people within their limits, notify the instructor.</p></li>
</ul>
</section>
<section id="gradescope" class="level4" data-number="9.3.1.3">
<h4 data-number="9.3.1.3" class="anchored" data-anchor-id="gradescope"><span class="header-section-number">9.3.1.3</span> Gradescope</h4>
<ul>
<li><p>Work with the instructor at the beginning of the semester to make sure all TAs know how to use Gradescope. Give a demonstration or facilitate a help session for TAs, as needed.&nbsp;</p></li>
<li><p>If requested, set up assignments in Gradescope and Sakai or Canvas and make the links for synchronization through the Lessons tool in Sakai or the Modules tool in Canvas.</p>
<ul>
<li>Ensure grading rubrics are set up using the instructor’s preferred grading convention (positive scoring, negative scoring, combination of both).&nbsp; Include any other rubric items requested by the instructor, such as a “needs review” rubric item.</li>
</ul></li>
</ul>
</section>
<section id="grading" class="level4" data-number="9.3.1.4">
<h4 data-number="9.3.1.4" class="anchored" data-anchor-id="grading"><span class="header-section-number">9.3.1.4</span> Grading</h4>
<ul>
<li><p>Make grading assignments for all TAs. Each question should be graded by one TA for all submissions in a given assignment, with a rare exception if this is not feasible for particular questions.</p>
<ul>
<li>The number of questions to assign to each TA will be based on total hours allowed and other TA responsibilities (e.g.&nbsp;labs, office hours, classroom). Total hours and responsibilities will be provided by the instructor.&nbsp;</li>
</ul></li>
<li><p>Set up a clear communication line so TAs may ask questions about grading assignments</p></li>
<li><p>Make sure all TAs complete grading (both lab and lecture) within a week (or less during summer). This includes</p>
<ul>
<li><p>Keeping track of progress and gently reminding TAs when the grading deadline is approaching.</p></li>
<li><p>Send personal reminders to TAs who have little to no grading completed the day before the deadline. Notify the instructor if any TAs regularly need these reminders.</p></li>
<li><p>If grading isn’t done by the due date, send the TA a reminder. If you’re unable to contact the TA or grading is still not completed within agreed upon time frame, notify the instructor immediately to follow up with TAs not finishing up their grading.</p></li>
</ul></li>
<li><p>When the grading deadline has passed, do a first pass on graded items marked “needs review” by other TAs, and notify the instructor if any questions need instructor feedback before finalizing.</p></li>
<li><p>Spot check the quality of written feedback and let the TAs know if they need to improve the quality of feedback. (Note: The second Head TA training session will particularly focus on how to do this.)</p></li>
<li><p>Work with the instructor to determine the process for handling regrade requests. If asked by the instructor, do a first pass on regrade requests, providing feedback on each one and notify the instructor if any others need instructor feedback before finalizing.</p></li>
</ul>
</section>
<section id="additional-tasks" class="level4" data-number="9.3.1.5">
<h4 data-number="9.3.1.5" class="anchored" data-anchor-id="additional-tasks"><span class="header-section-number">9.3.1.5</span> Additional tasks</h4>
<ul>
<li><p>At the end of drop/add, remind instructor to remove any students from the GitHub organization that have dropped the class.&nbsp;</p></li>
<li><p>At the end of the semester, provide a reflection on how the Head TA role went, whether the training was effective, etc. by responding to the Head TA survey.</p></li>
</ul>
</section>
</section>
<section id="pedagogical-tasks" class="level3" data-number="9.3.2">
<h3 data-number="9.3.2" class="anchored" data-anchor-id="pedagogical-tasks"><span class="header-section-number">9.3.2</span> Pedagogical tasks</h3>
<p>You may be asked to do some or all of the pedagogical tasks throughout the semester. You can go through this list with the instructor to determine the tasks that will be part of your Head TA responsibilities.</p>
<section id="peer-evaluations" class="level4" data-number="9.3.2.1">
<h4 data-number="9.3.2.1" class="anchored" data-anchor-id="peer-evaluations"><span class="header-section-number">9.3.2.1</span> Peer evaluations</h4>
<ul>
<li><p>Schedule peer evaluations in <a href="https://teammatesv4.appspot.com/">Teammates</a> or software preferred by instructor. The instructor will provide the dates of the peer evaluation. Note that Canvas also has peer evaluation tools for grading; you may wish to test it.</p></li>
<li><p>When peer evaluations are due, read through the “instructor only” comments and write a one-page summary notifying the instructor how the teams are generally doing, if there are any common pain points in the class (e.g.&nbsp;not scheduling a time to meet), and any groups that may be having trouble. Any especially good groups are nice to mention too!</p></li>
</ul>
</section>
<section id="review-assignments-grading-rubric" class="level4" data-number="9.3.2.2">
<h4 data-number="9.3.2.2" class="anchored" data-anchor-id="review-assignments-grading-rubric"><span class="header-section-number">9.3.2.2</span> Review assignments &amp; grading rubric</h4>
<ul>
<li><p>Review assignment instructions and notify the instructor of anything that may be confusing or unclear.&nbsp;</p></li>
<li><p>Review the grading rubric and notify the instructor of any errors or inconsistencies in the instructions and rubric.</p>
<ul>
<li>Talk with the instructor at the beginning of the semester to establish expectations on when they will have the grading rubrics ready for review.&nbsp;</li>
</ul></li>
<li><p>Make minor updates and corrections to assignments when requested; instructors are responsible for lab creation and major updates.</p></li>
<li><p>If it is not feasible to schedule a weekly meeting with all TAs and the instructor due to unavoidable scheduling conflicts, work with instructor to record TA meetings via Zoom and share meeting recordings with other TAs.</p></li>
</ul>
<p><br></p>
<blockquote class="blockquote">
<p><strong><em>Perhaps the most important task of the head TA is to set an example for other TAs.</em></strong>&nbsp;</p>
</blockquote>
</section>
</section>
</section>
<section id="role-of-the-instructor" class="level2" data-number="9.4">
<h2 data-number="9.4" class="anchored" data-anchor-id="role-of-the-instructor"><span class="header-section-number">9.4</span> Role of the instructor</h2>
<p>The following are the role and responsibilities of the instructor and should not be part of the Head TA’s responsibilities.</p>
<ul>
<li><p>The instructor is responsible for course grades.</p></li>
<li><p>The instructor is ultimately responsible for grading for consistency within particular items and across entire graded assignment or assessment.</p></li>
<li><p>In assigning responsibilities to the Head TA, the instructor should determine who will set up assignments in Gradescope and Sakai or Canvas and make the links for synchronization through the Lessons tool in Sakai or the Modules tool in Canvas.</p></li>
<li><p>Making arrangements for accommodation requests from students and coordinate with the testing center if needed.</p></li>
<li><p>Scheduling weekly meetings with all TAs to discuss course flow, make sure all TAs have a good handle on the topics / concepts / tools coming up in the subsequent week, etc, and to discuss ongoing grading. Unless there is a very specific reason, do not decrease this cadence.</p></li>
<li><p>Managing the Sakai or Canvas Gradebook. The instructor may not grant teaching assistants (including the Head TA) access to the Gradebook in Sakai or Canvas unless there is a very specific reason to do so. Note that the university prohibits undergraduate TAs from having access to the Sakai or Canvas Gradebook entirely.</p></li>
<li><p>Check in with Head TA during Week 3 and Week 6 about workload. If there are concerns with workload, assign another TA (graduate student or advanced undergraduate) to help with some Head TA responsibilities or reach out to DUS for more resources, if needed.</p></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./training.html" class="pagination-link  aria-label=" &lt;span="">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Training</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./evaluation-recognition.html" class="pagination-link" aria-label="<span class='chapter-number'>10</span>&nbsp; <span class='chapter-title'>Evaluation and recognition</span>">
        <span class="nav-page-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Evaluation and recognition</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/DukeStatSci/ta-manual/edit/main/head-ta.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/DukeStatSci/ta-manual/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>